
== Deployment

ifdef::iRancher[]

ifdef::GS[]
This section describes the base process steps to deploy {pn_Rancher} including the prerequisites for the underlying node's operating system.
endif::GS[]

ifdef::RC,RI[]
This section describes the process steps to deploy each of the component layers needed to create the {pn_Rancher} solution.
endif::RC,RI[]

endif::iRancher[]

////
The following typographical conventions are used in this manual:
    • /etc/passwd: directory names and file names
    • placeholder: replace placeholder with the actual value
    • PATH: the environment variable PATH
    • Alt, Alt+F1: a key to press or a key combination; keys are shown in uppercase as on a keyboard
    • File, File > Save As: menu items, buttons
    • command line: commands executed in the console
////

=== Deployment overview

ifdef::RC,RI,GS[]
For this documented deployment process, a single node is installed with the operating system supporting a single Kubernetes instance to host {pn_Rancher}.
ifdef::BP[For maximum flexibility, these layers are deployed in a manner that would allow expanding this single-node into a highly available, multi-node cluster, by following the steps in the deployment consideration sections.]

The deployment stack is represented in the following figure:

ifdef::iRancher[]

ifdef::RC[]

ifdef::focusRancher[]

ifdef::layerK3s+layerSLEMicro[]
ifdef::iIHV+IHV-HPE[]
image::RC-Deployment-{an_Rancher}-{an_K3s}-{an_SLEMicro}-{an_HPE}.png[title="{pn_Rancher} Deployment Stack", scaledwidth=80%]
endif::iIHV+IHV-HPE[]
ifndef::iIHV[]
image::RC-Deployment-{an_Rancher}-{an_K3s}-{an_SLEMicro}.png[title="{pn_Rancher} Deployment Stack", scaledwidth=80%]
endif::iIHV[]
endif::layerK3s+layerSLEMicro[]
ifdef::layerK3s+layerSLES[]
image::RC-Deployment-{an_Rancher}-{an_K3s}-{an_SLES}.png[title="{pn_Rancher} Deployment Stack", scaledwidth=80%]
endif::layerK3s+layerSLES[]

ifdef::layerRKE1+layerSLES[]
image::RC-Deployment-{an_Rancher}-{an_RKE1}-{an_SLES}.png[title="{pn_Rancher} Deployment Stack", scaledwidth=80%]
endif::layerRKE1+layerSLES[]

endif::focusRancher[]

ifdef::focusK3s[]
ifdef::layerSLEMicro[]
image::RC-Deployment-{an_K3s}-{an_SLEMicro}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::layerSLEMicro[]
ifdef::layerSLES[]
image::RC-Deployment-{an_K3s}-{an_SLES}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::layerSLES[]
endif::focusK3s[]

ifdef::focusRKE1+layerSLES[]
image::RC-Deployment-{an_RKE1}-{an_SLES}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::focusRKE1+layerSLES[]

ifdef::focusRKE2+layerSLES[]
image::RC-Deployment-{an_RKE2}-{an_SLES}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::focusRKE2+layerSLES[]

endif::RC[]

ifdef::RI[]

ifdef::focusRancher[]

ifdef::layerK3s+layerSLEMicro[]
image::RI-Deployment-{an_Rancher}-{an_K3s}-{an_SLEMicro}.png[title="{pn_Rancher} Deployment Stack", scaledwidth=80%]
endif::layerK3s+layerSLEMicro[]
ifdef::layerK3s+layerSLES[]
image::RI-Deployment-{an_Rancher}-{an_K3s}-{an_SLES}.png[title="{pn_Rancher} Deployment Stack", scaledwidth=80%]
endif::layerK3s+layerSLES[]

ifdef::layerRKE1+layerSLES[]
image::RI-Deployment-{an_Rancher}-{an_RKE1}-{an_SLES}.png[title="{pn_Rancher} Deployment Stack", scaledwidth=80%]
endif::layerRKE1+layerSLES[]

endif::focusRancher[]

ifdef::focusK3s[]
ifdef::layerSLEMicro[]
image::RI-Deployment-{an_K3s}-{an_SLEMicro}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::layerSLEMicro[]
ifdef::layerSLES[]
image::RI-Deployment-{an_K3s}-{an_SLES}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::layerSLES[]
endif::focusK3s[]

ifdef::focusRKE1+layerSLES[]
image::RI-Deployment-{an_RKE1}-{an_SLES}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::focusRKE1+layerSLES[]

ifdef::focusRKE2+layerSLES[]
image::RI-Deployment-{an_RKE2}-{an_SLES}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::focusRKE2+layerSLES[]

endif::RI[]

ifdef::GS[]

ifdef::focusRancher[]
image::GS-Deployment-{an_Rancher}.png[title="{pn_Rancher} Deployment Stack", scaledwidth=80%]
endif::focusRancher[]

ifdef::focusK3s[]
image::GS-Deployment-{an_K3s}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::focusK3s[]

ifdef::focusRKE1[]
image::GS-Deployment-{an_RKE1}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::focusRKE1[]

ifdef::focusRKE2[]
image::GS-Deployment-{an_RKE2}.png[title="{pn_RKE1} Deployment Stack", scaledwidth=80%]
endif::focusRKE2[]

endif::GS[]

endif::iRancher[]

and details are covered for each layer in the following sections.

NOTE: The content is ordered and described from the bottom layer up to the top.

endif::RC,RI,GS[]

ifdef::HWDepCfg[]

// Compute Platform Section Inclusion
// ==================================
ifdef::RC,RI[] 
include::SA-RA-Deployment-Hardware.adoc[]
endif::RC,RI[] 

endif::HWDepCfg[]

ifdef::SWDepCfg[]

// Operating System Section Inclusion
// ==================================
ifdef::RC,RI[] 
include::SA-RA-Deployment-OS.adoc[]
endif::RC,RI[] 

// Kubernetes Section Inclusion
// ============================
ifdef::RC,RI[] 
include::SA-RA-Deployment-Kubernetes.adoc[]
endif::RC,RI[] 

// Multi-Cluster Management Section Inclusion
// ==========================================
ifdef::RC,RI,GS[]
ifdef::focusRancher[]
include::SA-RA-Deployment-Rancher.adoc[]
endif::focusRancher[]
endif::RC,RI,GS[]

// Software Workload Section Inclusion
// ===================================
ifdef::RC,RI,GS[]
ifdef::iISV[]
include::SA-RA-Deployment-Workload.adoc[]
endif::iISV[]
endif::RC,RI,GS[]

endif::SWDepCfg[]

